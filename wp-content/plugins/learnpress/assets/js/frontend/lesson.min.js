!function(e){var t=function(e){this.model=new t.Model(e),this.view=new t.View({model:this.model})},n=parent.window||window;t.Model=Backbone.Model.extend({}),t.View=Backbone.View.extend({el:function(){return"body"},events:{"click .button-complete-item":"_completeItem","click #lp-navigation .nav-link a":"_click_nav_link"},_click_nav_link:function(t){t.preventDefault();var o=e(t.target),c="";c="a"!=o.prop("tagName").toLowerCase()?o.parent().attr("data-id"):e(o).attr("data-id"),e(n.document).find(".course-item.course-item-"+c+".viewable").trigger("click")},_completeItem:function(t){var o=e(t.target);o.data("security"),o.closest(".course-item");n.LP.blockContent()},complete:function(t){var n=this;t=e.extend({context:null,callback:null,format:"json"},this.model.toJSON(),t||{});var o={};_.forEach(t,(function(t,n){-1!=e.inArray(n,["content","current","title","url"])||e.isFunction(t)||(o[n]=t)})),LP.ajax({url:this.model.get("url"),action:"complete-item",data:o,dataType:"json",success:function(o){LP.Hook.doAction("learn_press_course_item_completed",o,n),o=LP.Hook.applyFilters("learn_press_course_item_complete_response",o,n),e.isFunction(t.callback)&&t.callback.call(t.context,o,n)}})},_validateObject:function(t){var n={};for(var o in t)e.isFunction(t[o])||(n[o]=t[o]);return n}}),window.LP_Lesson=t,e(document).ready((function(){"undefined"!=typeof LP_Lesson_Params&&(window.$LP_Lesson=new LP_Lesson(e.extend({course:LP.$LP_Course},LP_Lesson_Params))),n.LP.unblockContent()}))}(jQuery);