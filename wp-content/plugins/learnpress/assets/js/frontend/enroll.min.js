void 0===window.LP&&(window.LP={}),function(r){"use strict";LP.Enroll={$form:null,init:function(){r(document);this.$form=r('form[name="enroll-course"]'),this.$form.on("submit",this.enroll)},enroll:function(){var e=r(this),o=e.find(".button.enroll-button"),l=e.find('input[name="enroll-course"]').val();return o.hasClass("enrolled")||!1===e.triggerHandler("learn_press_enroll_course")||(o.removeClass("enrolled failed").addClass("loading"),r.ajax({url:LP.getUrl(),dataType:"html",data:e.serialize(),type:"post",success:function(r){"fail"==(r=LP.parseJSON(r)).result?!1!==LP.Hook.applyFilters("learn_press_user_enroll_course_failed",l)&&r.redirect&&LP.reload(r.redirect):!1!==LP.Hook.applyFilters("learn_press_user_enrolled_course",l)&&r.redirect&&LP.reload(r.redirect)},error:function(r,e,s){LP.Hook.doAction("learn_press_user_enroll_course_failed",l),o.removeClass("loading").addClass("failed"),LP.Enroll.showErrors('<div class="learn-press-error">'+s+"</div>")}})),!1},showErrors:function(e){this.removeErrors(),this.$form.prepend(e),r("html, body").animate({scrollTop:LP.Enroll.$form.offset().top-100},1e3),r(document.body).trigger("learn_press_enroll_error")},removeErrors:function(){r(".learn-press-error, .learn-press-notice, .learn-press-message").remove()}},r(document).ready((function(){LP.Enroll.init()}))}(jQuery);