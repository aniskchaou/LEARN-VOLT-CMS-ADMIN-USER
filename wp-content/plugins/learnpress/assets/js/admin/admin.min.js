!function(e){var t=function(){e.ajax({url:"",data:{"lp-ajax":"toggle_item_preview",item_id:this.value,previewable:this.checked?"yes":"no",nonce:e(this).attr("data-nonce")},dataType:"text",success:function(e){e=LP.parseJSON(e)}})},n=function(t){var n=e(this).addClass("disabled");t.preventDefault(),e.post({url:n.attr("href"),data:{"lp-ajax":"create-pages"},dataType:"text",success:function(e){var t=n.closest(".lp-notice").html("<p>"+e+"</p>");setTimeout((function(){t.fadeOut()}),2e3)}})},a=function(t){t.preventDefault(),e(this).closest(".lp-upgrade-notice").fadeOut(),e.post({url:"",data:{"lp-hide-upgrade-message":"yes"},success:function(e){}})},o=function(t){if(!e(t.target).hasClass("buy-now")){t.preventDefault();var n=e(this).closest(".plugin-card");e(this).hasClass("updating-message")||(e(this).addClass("updating-message button-working disabled"),e.ajax({url:e(this).attr("href"),data:{},success:function(t){e.ajax({url:window.location.href,success:function(t){var a=e(t).find("#"+n.attr("id"));a.length?n.replaceWith(a):n.find(".plugin-action-buttons a").removeClass("updating-message button-working").html(learn_press_admin_localize.plugin_installed)}})}}))}},c=function(e){return e.preventDefault(),!1};e.fn._filter_post=function(){var t=e("#post-search-input");if(t.length){var n=e(t[0].form),a=e('<select name="author" id="author"></select>').insertAfter(t).select2({ajax:{url:window.location.href+"&lp-ajax=search-authors",dataType:"json",s:""},placeholder:"Search by user",minimumInputLength:3,allowClear:!0}).on("select2:select",(function(){e('input[name="author"]').val(a.val())}));n.on("submit",(function(){window.location.href.removeQueryVar("author").addQueryVar("author",a.val())}))}};e(document).ready((function(){if(e(".learn-press-dropdown-pages").LP("DropdownPages"),e(".learn-press-advertisement-slider").LP("Advertisement","a","s").appendTo(e("#wpbody-content")),e(".learn-press-toggle-item-preview").on("change",t),e(".learn-press-tip").LP("QuickTip"),e(document).on("click","#learn-press-create-pages",n).on("click",".lp-upgrade-notice .close-notice",a).on("click",".plugin-action-buttons a",o).on("click","[data-remove-confirm]",c).on("mousedown",".lp-sortable-handle",(function(t){e("html, body").addClass("lp-item-moving"),e(t.target).closest(".lp-sortable-handle").css("cursor","inherit")})).on("mouseup",(function(t){e("html, body").removeClass("lp-item-moving"),e(".lp-sortable-handle").css("cursor","")})),e("#order-export__section").length){document.querySelectorAll(".tabs");const t=document.querySelectorAll(".tab"),n=document.querySelectorAll(".panel");function s(e){for(let e=0;e<t.length;e++)t[e].classList.remove("active");for(let e=0;e<n.length;e++)n[e].classList.remove("active");e.target.classList.add("active");let a=e.target.getAttribute("data-target");document.getElementById("panels").getElementsByClassName(a)[0].classList.add("active")}for(let e=0;e<t.length;e++)t[e].addEventListener("click",s,!1);var i=document.getElementById("myModal"),r=document.getElementById("order-export__button"),l=document.getElementsByClassName("close")[0];r.onclick=function(){i.style.display="block"},l.onclick=function(){i.style.display="none"},window.onclick=function(e){e.target==i&&(i.style.display="none")},e("#lp-invoice__content").length&&e("#lp-invoice__export").click((function(){var t=new jsPDF("p","pt","letter"),n={top:80,bottom:60,left:40,width:522};t.fromHTML(e("#lp-invoice__content")[0],n.left,n.top,{width:n.width,elementHandlers:{"#bypassme":function(e,t){return!0}}},(function(e){var n=t.output("blob");window.open(URL.createObjectURL(n))}),n)})),e("#lp-invoice__update").click((function(){var t=e(this).data("id"),n=e('input[name="site_title"]'),a=e('input[name="order_date"]'),o=e('input[name="invoice_no"]'),c=e('input[name="order_customer"]'),s=e('input[name="order_email"]'),i=e('input[name="order_payment"]');n=n.is(":checked")?"check":"uncheck",a=a.is(":checked")?"check":"uncheck",o=o.is(":checked")?"check":"uncheck",c=c.is(":checked")?"check":"uncheck",s=s.is(":checked")?"check":"uncheck",i=i.is(":checked")?"check":"uncheck",e.ajax({type:"post",dataType:"html",url:"admin-ajax.php",data:{site_title:n,order_date:a,invoice_no:o,order_customer:c,order_email:s,order_id:t,order_payment:i,action:"learnpress_update_order_exports"},beforeSend:function(){e(".export-options__loading").addClass("active")},success:function(t){e("#lp-invoice__content").html(""),e("#lp-invoice__content").append(t),e(".export-options__loading").removeClass("active"),e(".options-tab").removeClass("active"),e(".preview-tab").addClass("active"),e("#panels .export-options").removeClass("active"),e("#panels .pdf-preview").addClass("active")},error:function(e,t,n){console.log("The following error occured: "+t,n)}})}))}e.fn._filter_post()}))}(jQuery);